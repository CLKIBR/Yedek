<div class="min-vh-100 d-flex flex-row align-items-center justify-content-center"
  style="background: url('/assets/images/register_bg_2.png') center center / cover no-repeat fixed;">
    
  <div class="card-body" style="min-width:440px;max-width:500px;width:100%;">
    <c-header-brand [routerLink] style="display:flex; justify-content:center; margin-top:-5rem; margin-bottom:3.5rem;">
      <svg [class]="{icon: false}" cIcon class="sidebar-brand-full " height="84" name="logo" title="Logo"></svg>
    </c-header-brand>
    <div *ngIf="!showLoginForm" class="text-center mb-4">
      <ng-container *ngIf="welcomeMessage === 'Hoşgeldiniz, iyi çalışmalar!'; else otherWelcome">
        <div class="d-flex justify-content-center align-items-end mb-3" style="gap:1.2rem;">
          <span class="fw-bold gradient-text" style="font-size:3rem; letter-spacing:0.5px;">HOŞGELDİNİZ</span>
          <span style="font-size:2rem; color:#444;">İyi Çalışmalar!</span>
        </div>
      </ng-container>
      <ng-template #otherWelcome>
        <div class="fw-bold mb-3 gradient-text" style="font-size:3rem; letter-spacing:0.5px;">{{ welcomeMessage }}</div>
      </ng-template>
      <img [src]="userProfileImage" alt="Profil" class="rounded-circle mb-3 mx-auto d-block shadow"
        style="width:120px;height:120px;object-fit:cover;border:4px solid #f5f5f5;box-shadow:0 4px 24px rgba(0,0,0,0.10);cursor:pointer;transition:transform 0.2s;"
        (click)="onProfileClick()">
      <div class="fw-semibold mb-1" style="font-size:1.6rem;cursor:pointer;transition:color 0.2s;"
        (click)="onProfileClick()">{{ userName }}</div>
      <button class="btn btn-warning mt-5 px-4 py-2 fs-5 fw-semibold" style="border-radius:2rem; background: linear-gradient(90deg, #ffe066 0%, #ff9800 50%, #ff5722 100%); 
      border: none; color: #222; font-weight: bold; margin-top:4rem !important;" (click)="onSwitchAccount()">Kullanıcı
        Değiştir</button>
    </div>
    <div *ngIf="showLoginForm" class="text-center mb-4">
      <ng-container *ngIf="welcomeMessage === 'Hoşgeldiniz, iyi çalışmalar!'; else otherWelcomeForm">
        <div class="d-flex justify-content-center align-items-end mb-3" style="gap:1.2rem;">
          <span class="fw-bold gradient-text" style="font-size:2.7rem; letter-spacing:0.5px;">HOŞGELDİNİZ,</span>
          <span style="font-size:1.8rem;">İyi Çalışmalar!</span>
        </div>
      </ng-container>
      <ng-template #otherWelcomeForm>
        <div class="fw-bold mb-3 gradient-text" style="font-size:2.5rem; letter-spacing:0.5px;">{{ welcomeMessage }}
        </div>
      </ng-template>
    </div>
    <form *ngIf="showLoginForm" [formGroup]="loginForm" (ngSubmit)="onSubmit()" autocomplete="off" novalidate>
      <div class="mb-3">
        <label for="email" class="form-label">E-posta</label>
        <input type="email" id="email" class="form-control form-control-lg" style="height:56px;font-size:1.25rem;"
          formControlName="email" [ngClass]="{'is-invalid': submitted && f['email'].errors}"
          placeholder="E-posta adresiniz">
        <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
          <div *ngIf="f['email'].errors['required']">E-posta zorunlu.</div>
          <div *ngIf="f['email'].errors['email']">Geçerli bir e-posta girin.</div>
        </div>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Şifre</label>
        <input type="password" id="password" class="form-control form-control-lg" style="height:56px;font-size:1.25rem;"
          formControlName="password" [ngClass]="{'is-invalid': submitted && f['password'].errors}"
          placeholder="Şifreniz">
        <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
          <div *ngIf="f['password'].errors['required']">Şifre zorunlu.</div>
          <div *ngIf="f['password'].errors['minlength']">Şifre en az 8 karakter olmalı.</div>
        </div>
      </div>
      <div *ngIf="error" class="alert alert-danger py-2">{{ error }}</div>
      <div class="d-flex justify-content-between align-items-center mt-4">
        <a [routerLink]="['/login/forgot-password']" class="large">Şifremi Unuttum</a>
        <button type="submit" class="btn btn-warning btn-md px-5 py-2" [disabled]="loading"
          style="background: linear-gradient(90deg, #ffe066 0%, #ff9800 50%, #ff5722 100%); border: none; color: #222; font-weight: bold;">
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
          Giriş Yap
        </button>
      </div>
    </form>
  </div>
  <lagel></lagel>
</div>